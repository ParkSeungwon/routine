(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{203:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var r=n(0),o=n.n(r),a=n(1),i=n(77),s=n(6),c=n.n(s),u=n(7),l=n.n(u),f=n(9),h=n.n(f),d=n(3),p=n.n(d),y=n(5),v=n.n(y),m=n(17),b=n.n(m),g=n(26),k=n(4),x=n(93),_=n(46),w=n(133),E=n(198),C=n.n(E),R=n(8),A=n(106);function P(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(t){l()(n,t);var e=P(n);function n(){var t;v()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).show=!1,t}return c()(n,[{key:"run",value:function(){this.show=!0,this.forceUpdate()}},{key:"on_click",value:function(t){this.show=!1,this.forceUpdate(),this.props.func(t)}},{key:"render",value:function(){var t=this;return o.a.createElement(_.e,{ModalComponent:"web"==R.a.OS?C.a:void 0,isVisible:this.show,style:T.container},o.a.createElement(A.a,{behavior:"padding",style:T.container},o.a.createElement(_.f,{style:T.text},this.props.text),this.props.children,o.a.createElement(k.a,{style:T.foot},this.props.buttons.map((function(e,n){return o.a.createElement(_.a,{raised:!0,type:"outline",style:T.button,key:n,title:e,onPress:function(){t.on_click(n)}})})))))}}]),n}(r.Component),T=a.a.create({container:{justifyContent:"flex-start"},foot:{marginTop:5,flexDirection:"row",justifyContent:"flex-end"},button:{padding:1},text:{fontSize:22,padding:10}}),U=n(27),I=n.n(U),O=n(200),j=n.n(O);function B(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var D=function(t){l()(n,t);var e=B(n);function n(){var t;v()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={todos:function(){return[]}},t}return c()(n,[{key:"on_click",value:function(t){this.state.todos()[t].check=!this.state.todos()[t].check,this.forceUpdate()}},{key:"set",value:function(t){this.setState({todos:function(){return t}})}},{key:"render_item",value:function(t){var e=t.item,n=t.index,r=t.drag;t.isActive;return o.a.createElement(_.c,{title:e.todo,checked:e.check,onPress:this.on_click.bind(this,n),onLongPress:r})}},{key:"set_data",value:function(t){var e=this.state.todos().splice(t.from,1),n=I()(e,1)[0];this.state.todos().splice(t.to,0,n),this.forceUpdate()}},{key:"render",value:function(){return o.a.createElement(j.a,{data:this.state.todos(),renderItem:this.render_item.bind(this),keyExtractor:function(t,e){return e},onDragBegin:function(t){},onDragEnd:this.set_data.bind(this)})}}]),n}(r.Component);function J(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var N=function(t){l()(n,t);var e=L(n);function n(){var t;v()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).current=0,t.data=[],t.input_text="",t.isTab=!0,t.load=function(){var e;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.awrap(w.a.getItem("data"));case 3:null!=(e=n.sent)&&(t.data=JSON.parse(e)),console.log("loading...\n"),console.log(t.data),t.current=0,t.select_tab(0),t.forceUpdate(),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(0);case 14:case"end":return n.stop()}}),null,null,[[0,12]],Promise)},t.save=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.awrap(w.a.setItem("data",JSON.stringify(t.data)));case 3:console.log("saving...\n"),console.log(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),null,null,[[0,7]],Promise)},t._handleAppStateChange=function(e){"background"!==e&&"inactive"!==e||t.save()},t}return c()(n,[{key:"popup_callback",value:function(t){switch(console.log(t),t){case 0:console.log("yes function"+this.isTab),this.isTab?this.remove_tab():this.remove_to_do();break;case 1:console.log("no function")}this.forceUpdate()}},{key:"done",value:function(t){1!=t&&(this.isTab?this.data.push({title:this.input_text,todos:[]}):0==this.data.length?this.refs.error.run():this.data[this.current].todos.push({todo:this.input_text,check:!1}),this.forceUpdate())}},{key:"show_popup",value:function(t){this.isTab=t,this.refs.enter.run()}},{key:"show_confirm",value:function(t){this.isTab=t,this.refs.popup.run()}},{key:"remove_tab",value:function(){0!=this.data.length&&(this.data.splice(this.current,1),this.current>0&&this.current--,this.data.length>0?this.refs.callapi.set(this.data[this.current].todos):this.refs.callapi.set([]),this.forceUpdate())}},{key:"remove_to_do",value:function(){if(0!=this.data[this.current].todos.length){for(var t=[],e=this.data[this.current].todos.length-1;e>=0;e--)this.data[this.current].todos[e].check&&t.push(e);console.log("to_del array : "),console.log(t);for(var n=0,r=t;n<r.length;n++){var o=r[n];this.data[this.current].todos.splice(o,1)}}}},{key:"reset",value:function(){for(var t,e=J(this.data[this.current].todos);!(t=e()).done;){t.value.check=!1}this.refs.callapi.forceUpdate()}},{key:"select_tab",value:function(t){this.current=t,this.data[this.current]&&(this.refs.callapi.set(this.data[this.current].todos),this.forceUpdate())}},{key:"render",value:function(){var t=this;return o.a.createElement(k.a,{style:z.container},o.a.createElement(k.a,{style:z.foot},o.a.createElement(_.a,{title:"Tab+",onPress:function(){t.show_popup(!0)},type:"outline",raised:!0,style:z.button}),o.a.createElement(_.a,{title:"Tab-",onPress:this.show_confirm.bind(this,!0),type:"outline",raised:!0,style:z.button}),o.a.createElement(_.a,{title:"Item+",onPress:this.show_popup.bind(this,!1),type:"outline",raised:!0,style:z.button}),o.a.createElement(_.a,{title:"Item-",onPress:this.show_confirm.bind(this,!1),type:"outline",raised:!0,style:z.button}),o.a.createElement(_.a,{title:"reset",onPress:this.reset.bind(this),type:"outline",raised:!0,style:z.button})),o.a.createElement(_.b,{selectedIndex:this.current,buttons:this.data.map((function(t){return t.title})),onPress:this.select_tab.bind(this)}),o.a.createElement(D,{ref:"callapi"}),o.a.createElement(S,{ref:"enter",text:"",func:this.done.bind(this),buttons:["Done","Cancel"]},o.a.createElement(k.a,{style:z.over},o.a.createElement(_.d,{placeholder:"enter text",onChangeText:function(e){t.input_text=e}}))),o.a.createElement(S,{ref:"popup",func:this.popup_callback.bind(this),text:"Are you sure?",buttons:["Confirm","Cancel"]}),o.a.createElement(S,{ref:"error",func:function(t){},text:"Create Tab first!!",buttons:["OK"]}))}},{key:"componentDidMount",value:function(){this.load(),x.a.addEventListener("change",this._handleAppStateChange),console.log("componentDidMount")}},{key:"componentWillUnmount",value:function(){x.a.removeEventListener("change",this._handleAppStateChange)}}]),n}(r.Component),z=a.a.create({container:{flex:1,width:"100%"},foot:{width:"100%",flexDirection:"row",justifyContent:"center"},button:{padding:1},over:{width:.7*g.a.get("window").width}});function K(){return o.a.createElement(i.a,{style:V.container},o.a.createElement(N,null))}var V=a.a.create({container:{flex:1,paddingTop:30,backgroundColor:"#fff",alignItems:"flex-start",justifyContent:"flex-start"}})},207:function(t,e,n){t.exports=n(274)}},[[207,1,2]]]);
//# sourceMappingURL=app.8a08daaf.chunk.js.map